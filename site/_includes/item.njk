{%- extends 'base.njk' -%}

{% import 'components/social.njk' as social %}

{%- block extra_links %}
{% if canonical %}
   <link rel='canonical' href='{{canonical}}' />
{% endif %}
{% set current_page = collections.all | current(page) %}
{% if current_page %}
   {{ social.meta(current_page, config) }}
{% else %}
   {# Fallback for items excluded from collections #}
   {{ social.meta(page, config) }}
{% endif %}
{%- endblock extra_links %}


{%- block main -%}
<article class='content-block post'>
   {% block header -%}{%- endblock header %}
   {% block before_content %}{% endblock before_content %}
   <div class='article-content'>
      {% block content -%}{{content | safe}}{%- endblock content %}
   </div>
   {% block after_content %}{% endblock after_content %}
</article>
{%- endblock main -%}
